<nav class="navbar navbar-inverse bg-inverse">
  <div class="container">
    <a class="navbar-brand" href="#">{{title}}</a>
  </div>
</nav>
<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <p class="lead">A simple tool for generating NPC character statistics based on the 5th edition Dungeons &amp; Dragons ruleset.</p>
    <form class="form-inline">
      <label class="sr-only" for="race">Race</label>
      <select class="custom-select mb-2 mr-sm-2 mb-sm-0" name="race" [(ngModel)]="config.race" (input)="config.subrace = null">
        <option [value]="null" selected>Any Race</option>
        <option *ngFor="let race of races" [ngValue]="race">{{race.name}}</option>
      </select>
      <select class="custom-select mb-2 mr-sm-2 mb-sm-0" name="race" [(ngModel)]="config.subrace" *ngIf="config.race && config.race.subraces">
        <option [value]="null" selected>Any Subrace</option>
        <option *ngFor="let subrace of config.race.subraces" [ngValue]="subrace">{{subrace.name}}</option>
      </select>
    </form>
    <div class="row">
      <div class="col-12 text-right">
        <button type="button" class="btn btn-primary btn-lg" (click)="onGenerateClick()">Generate NPC</button>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="npc-header">
    <h1 class="npc-name">John Smith</h1>
    <div class="text-muted npc-subline">
      <span class="race">{{character.race.name}}</span>,
      <source-reference [reference]="character.race.reference"></source-reference>
      <span class="sub-race" *ngIf="character.subrace">{{character.subrace.name}}<source-reference [reference]="character.subrace.reference"></source-reference></span>,
      <span class="size">{{character.race.size}}</span>,
      <span class="npc-alignment">{{character.alignmentDescription}}</span>
    </div>
    <div class="text-muted npc-subline">
      <span class="gender">{{character.genderDescription}}</span>,
      <span class="height">{{character.heightString || 0}}</span>,
      <span class="weight">{{(character.weight || 0) + " lbs."}}</span>,
      <span class="weight">{{(character.age || 0) + " years old"}}</span>
    </div>
  </div>
  <ability-score-list [character]="character"></ability-score-list>
  <div class="character-block-minor">
    <div class="row">
      <div class="col-md-3">
        <div class="attribute-block">
          <div class="attribute-title">Level</div>
          <span class="primary">{{character.level}}</span>
        </div>
      </div>
      <div class="col-md-3">
        <div class="attribute-block">
          <div class="attribute-title">Armor Class</div>
          <span class="primary">{{character.armorClass}}</span>
          <span class="secondary">({{character.equippedArmor}})</span>
        </div>
      </div>
      <div class="col-md-3">
        <div class="attribute-block">
          <div class="attribute-title">Hit Points</div>
          <span class="primary">{{character.hitPoints}}</span>
          <span class="secondary">({{character.hitPointFormula}})</span>
        </div>
      </div>
      <div class="col-md-3">
        <speed-display [speed]="character.speed"></speed-display>
      </div>
    </div>
  </div>
  <div class="character-block-minor">
    <div class="row">
      <div class="col-md-4">
        <languages-display [languages]="character.languages"></languages-display>
      </div>
      <div class="col-md-4">
        <senses-display [senses]="character.senses"></senses-display>
      </div>
      <div class="col-md-4">
        <skills-display [character]="character"></skills-display>
      </div>
    </div>
  </div>
  <feature-display-list [features]="character.racialFeatures"></feature-display-list>
</div>